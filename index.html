<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Freelancer Dashboard</title>
  <script src="https://unpkg.com/react@18.2.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.24.6/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Mock AI pitch generator
    const generateAIPitch = (skills, gigDetails) => {
      return `Hi, I'm a skilled freelancer specializing in ${skills.join(", ")}. I'm excited to offer my services for your ${gigDetails.projectType} project with a budget of $${gigDetails.budget}. My expertise ensures high-quality delivery tailored to your needs. Let's collaborate to bring your vision to life!`;
    };

    // Main App Component
    function App() {
      const [user, setUser] = useState(null);
      const [isSignUp, setIsSignUp] = useState(true);

      return (
        <div className="min-h-screen bg-gray-100">
          {user ? (
            <Dashboard user={user} setUser={setUser} />
          ) : (
            <AuthForm isSignUp={isSignUp} setIsSignUp={setIsSignUp} setUser={setUser} />
          )}
        </div>
      );
    }

    // Authentication Form Component
    function AuthForm({ isSignUp, setIsSignUp, setUser }) {
      const [email, setEmail] = useState("");
      const [password, setPassword] = useState("");
      const [name, setName] = useState("");

      const handleSubmit = (e) => {
        e.preventDefault();
        // Mock authentication
        setUser({ email, name: isSignUp ? name : email.split("@")[0], skills: [], gigs: [] });
      };

      return (
        <div className="max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md">
          <h2 className="text-2xl font-bold mb-4">{isSignUp ? "Sign Up" : "Sign In"}</h2>
          <form onSubmit={handleSubmit}>
            {isSignUp && (
              <div className="mb-4">
                <label className="block text-gray-700">Name</label>
                <input
                  type="text"
                  value={name}
                  onChange={(e) => setName(e.target.value)}
                  className="w-full p-2 border rounded"
                  required
                />
              </div>
            )}
            <div className="mb-4">
              <label className="block text-gray-700">Email</label>
              <input
                type="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                className="w-full p-2 border rounded"
                required
              />
            </div>
            <div className="mb-4">
              <label className="block text-gray-700">Password</label>
              <input
                type="password"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                className="w-full p-2 border rounded"
                required
              />
            </div>
            <button
              type="submit"
              className="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600"
            >
              {isSignUp ? "Sign Up" : "Sign In"}
            </button>
          </form>
          <p className="mt-4 text-center">
            {isSignUp ? "Already have an account?" : "Don't have an account?"}
            <button
              onClick={() => setIsSignUp(!isSignUp)}
              className="text-blue-500 ml-1 hover:underline"
            >
              {isSignUp ? "Sign In" : "Sign Up"}
            </button>
          </p>
        </div>
      );
    }

    // Dashboard Component
    function Dashboard({ user, setUser }) {
      const [skills, setSkills] = useState(user.skills);
      const [newSkill, setNewSkill] = useState("");
      const [gigDetails, setGigDetails] = useState({ projectType: "", budget: "" });
      const [pitch, setPitch] = useState("");
      const [gigs, setGigs] = useState(user.gigs);

      const addSkill = () => {
        if (newSkill && !skills.includes(newSkill)) {
          setSkills([...skills, newSkill]);
          setNewSkill("");
        }
      };

      const generatePitch = () => {
        if (skills.length && gigDetails.projectType && gigDetails.budget) {
          const newPitch = generateAIPitch(skills, gigDetails);
          setPitch(newPitch);
        } else {
          alert("Please add skills and complete gig details.");
        }
      };

      const approvePitch = () => {
        if (pitch) {
          setGigs([...gigs, { ...gigDetails, pitch }]);
          setGigDetails({ projectType: "", budget: "" });
          setPitch("");
        }
      };

      const logout = () => {
        setUser(null);
      };

      return (
        <div className="max-w-4xl mx-auto p-6">
          <div className="flex justify-between items-center mb-6">
            <h1 className="text-3xl font-bold">Welcome, {user.name}</h1>
            <button
              onClick={logout}
              className="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
            >
              Logout
            </button>
          </div>

          {/* Skills Section */}
          <div className="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 className="text-xl font-semibold mb-4">Your Skills</h2>
            <div className="flex mb-4">
              <input
                type="text"
                value={newSkill}
                onChange={(e) => setNewSkill(e.target.value)}
                placeholder="e.g., Web Development"
                className="flex-1 p-2 border rounded-l"
              />
              <button
                onClick={addSkill}
                className="bg-blue-500 text-white px-4 py-2 rounded-r hover:bg-blue-600"
              >
                Add
              </button>
            </div>
            <div className="flex flex-wrap gap-2">
              {skills.map((skill, index) => (
                <span
                  key={index}
                  className="bg-blue-100 text-blue-800 px-3 py-1 rounded-full"
                >
                  {skill}
                </span>
              ))}
            </div>
          </div>

          {/* Gig Details Section */}
          <div className="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 className="text-xl font-semibold mb-4">Add Gig Details</h2>
            <div className="grid grid-cols-2 gap-4 mb-4">
              <div>
                <label className="block text-gray-700">Project Type</label>
                <input
                  type="text"
                  value={gigDetails.projectType}
                  onChange={(e) =>
                    setGigDetails({ ...gigDetails, projectType: e.target.value })
                  }
                  placeholder="e.g., Website Design"
                  className="w-full p-2 border rounded"
                />
              </div>
              <div>
                <label className="block text-gray-700">Budget ($)</label>
                <input
                  type="number"
                  value={gigDetails.budget}
                  onChange={(e) =>
                    setGigDetails({ ...gigDetails, budget: e.target.value })
                  }
                  placeholder="e.g., 500"
                  className="w-full p-2 border rounded"
                />
              </div>
            </div>
            <button
              onClick={generatePitch}
              className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
            >
              Generate AI Pitch
            </button>
          </div>

          {/* Pitch Section */}
          {pitch && (
            <div className="bg-white p-6 rounded-lg shadow-md mb-6">
              <h2 className="text-xl font-semibold mb-4">Generated Pitch</h2>
              <p className="text-gray-700 mb-4">{pitch}</p>
              <button
                onClick={approvePitch}
                className="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600"
              >
                Approve & Save Pitch
              </button>
            </div>
          )}

          {/* Saved Gigs Section */}
          <div className="bg-white p-6 rounded-lg shadow-md">
            <h2 className="text-xl font-semibold mb-4">Your Gigs</h2>
            {gigs.length ? (
              gigs.map((gig, index) => (
                <div key={index} className="border-b py-4">
                  <p><strong>Project Type:</strong> {gig.projectType}</p>
                  <p><strong>Budget:</strong> ${gig.budget}</p>
                  <p><strong>Pitch:</strong> {gig.pitch}</p>
                </div>
              ))
            ) : (
              <p>No gigs saved yet.</p>
            )}
          </div>
        </div>
      );
    }

    // Render the app
    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
